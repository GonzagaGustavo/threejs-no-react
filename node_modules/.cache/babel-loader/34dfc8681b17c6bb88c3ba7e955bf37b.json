{"ast":null,"code":"import _objectWithoutProperties from \"C:/Users/Gustavo Gonzaga/Documents/GitHub/threejsnoreact/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"floor\", \"segments\", \"receiveShadow\"];\nimport * as React from 'react';\n\nvar easeInExpo = function easeInExpo(x) {\n  return x === 0 ? 0 : Math.pow(2, 10 * x - 10);\n};\n\nfunction Backdrop(_ref) {\n  var children = _ref.children,\n      _ref$floor = _ref.floor,\n      floor = _ref$floor === void 0 ? 0.25 : _ref$floor,\n      _ref$segments = _ref.segments,\n      segments = _ref$segments === void 0 ? 20 : _ref$segments,\n      receiveShadow = _ref.receiveShadow,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var ref = React.useRef(null);\n  React.useLayoutEffect(function () {\n    var i = 0;\n    var offset = segments / segments / 2;\n    var position = ref.current.attributes.position;\n\n    for (var x = 0; x < segments + 1; x++) {\n      for (var y = 0; y < segments + 1; y++) {\n        position.setXYZ(i++, x / segments - offset + (x === 0 ? -floor : 0), y / segments - offset, easeInExpo(x / segments));\n      }\n    }\n\n    position.needsUpdate = true;\n    ref.current.computeVertexNormals();\n  }, [segments, floor]);\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"mesh\", {\n    receiveShadow: receiveShadow,\n    rotation: [-Math.PI / 2, 0, Math.PI / 2]\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    ref: ref,\n    args: [1, 1, segments, segments]\n  }), children));\n}\n\nexport { Backdrop };","map":{"version":3,"sources":["C:/Users/Gustavo Gonzaga/Documents/GitHub/threejsnoreact/node_modules/@react-three/drei/core/Backdrop.js"],"names":["React","easeInExpo","x","Math","pow","Backdrop","children","floor","segments","receiveShadow","props","ref","useRef","useLayoutEffect","i","offset","position","current","attributes","y","setXYZ","needsUpdate","computeVertexNormals","createElement","rotation","PI","args"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,CAAC;AAAA,SAAIA,CAAC,KAAK,CAAN,GAAU,CAAV,GAAcC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,KAAKF,CAAL,GAAS,EAArB,CAAlB;AAAA,CAApB;;AAEA,SAASG,QAAT,OAMG;AAAA,MALDC,QAKC,QALDA,QAKC;AAAA,wBAJDC,KAIC;AAAA,MAJDA,KAIC,2BAJO,IAIP;AAAA,2BAHDC,QAGC;AAAA,MAHDA,QAGC,8BAHU,EAGV;AAAA,MAFDC,aAEC,QAFDA,aAEC;AAAA,MADEC,KACF;;AACD,MAAMC,GAAG,GAAGX,KAAK,CAACY,MAAN,CAAa,IAAb,CAAZ;AACAZ,EAAAA,KAAK,CAACa,eAAN,CAAsB,YAAM;AAC1B,QAAIC,CAAC,GAAG,CAAR;AACA,QAAMC,MAAM,GAAGP,QAAQ,GAAGA,QAAX,GAAsB,CAArC;AACA,QAAMQ,QAAQ,GAAGL,GAAG,CAACM,OAAJ,CAAYC,UAAZ,CAAuBF,QAAxC;;AAEA,SAAK,IAAId,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,QAAQ,GAAG,CAA/B,EAAkCN,CAAC,EAAnC,EAAuC;AACrC,WAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,QAAQ,GAAG,CAA/B,EAAkCW,CAAC,EAAnC,EAAuC;AACrCH,QAAAA,QAAQ,CAACI,MAAT,CAAgBN,CAAC,EAAjB,EAAqBZ,CAAC,GAAGM,QAAJ,GAAeO,MAAf,IAAyBb,CAAC,KAAK,CAAN,GAAU,CAACK,KAAX,GAAmB,CAA5C,CAArB,EAAqEY,CAAC,GAAGX,QAAJ,GAAeO,MAApF,EAA4Fd,UAAU,CAACC,CAAC,GAAGM,QAAL,CAAtG;AACD;AACF;;AAEDQ,IAAAA,QAAQ,CAACK,WAAT,GAAuB,IAAvB;AACAV,IAAAA,GAAG,CAACM,OAAJ,CAAYK,oBAAZ;AACD,GAbD,EAaG,CAACd,QAAD,EAAWD,KAAX,CAbH;AAcA,SAAO,aAAaP,KAAK,CAACuB,aAAN,CAAoB,OAApB,EAA6Bb,KAA7B,EAAoC,aAAaV,KAAK,CAACuB,aAAN,CAAoB,MAApB,EAA4B;AAC/Fd,IAAAA,aAAa,EAAEA,aADgF;AAE/Fe,IAAAA,QAAQ,EAAE,CAAC,CAACrB,IAAI,CAACsB,EAAN,GAAW,CAAZ,EAAe,CAAf,EAAkBtB,IAAI,CAACsB,EAAL,GAAU,CAA5B;AAFqF,GAA5B,EAGlE,aAAazB,KAAK,CAACuB,aAAN,CAAoB,eAApB,EAAqC;AACnDZ,IAAAA,GAAG,EAAEA,GAD8C;AAEnDe,IAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAOlB,QAAP,EAAiBA,QAAjB;AAF6C,GAArC,CAHqD,EAMjEF,QANiE,CAAjD,CAApB;AAOD;;AAED,SAASD,QAAT","sourcesContent":["import * as React from 'react';\n\nconst easeInExpo = x => x === 0 ? 0 : Math.pow(2, 10 * x - 10);\n\nfunction Backdrop({\n  children,\n  floor = 0.25,\n  segments = 20,\n  receiveShadow,\n  ...props\n}) {\n  const ref = React.useRef(null);\n  React.useLayoutEffect(() => {\n    let i = 0;\n    const offset = segments / segments / 2;\n    const position = ref.current.attributes.position;\n\n    for (let x = 0; x < segments + 1; x++) {\n      for (let y = 0; y < segments + 1; y++) {\n        position.setXYZ(i++, x / segments - offset + (x === 0 ? -floor : 0), y / segments - offset, easeInExpo(x / segments));\n      }\n    }\n\n    position.needsUpdate = true;\n    ref.current.computeVertexNormals();\n  }, [segments, floor]);\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"mesh\", {\n    receiveShadow: receiveShadow,\n    rotation: [-Math.PI / 2, 0, Math.PI / 2]\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    ref: ref,\n    args: [1, 1, segments, segments]\n  }), children));\n}\n\nexport { Backdrop };\n"]},"metadata":{},"sourceType":"module"}